{"version":3,"file":"ng-poppy.umd.js","sources":["../../../projects/ng-poppy/src/lib/popover/popover.token.ts","../../../projects/ng-poppy/src/lib/popover/models/popover-append-options.model.ts","../../../projects/ng-poppy/src/lib/popover/popover.animations.ts","../../../projects/ng-poppy/src/lib/popover/models/popover-styles.model.ts","../../../projects/ng-poppy/src/lib/popover/directives/popover-menu-item.directive.ts","../../../projects/ng-poppy/src/lib/popover/components/popover-menu/popover-menu.component.html","../../../projects/ng-poppy/src/lib/popover/components/popover-menu/popover-menu.component.ts","../../../projects/ng-poppy/src/lib/popover/models/popover-active.model.ts","../../../projects/ng-poppy/src/lib/layer/layer.model.ts","../../../projects/ng-poppy/src/lib/layer/layer.token.ts","../../../projects/ng-poppy/src/lib/layer/layer.component.ts","../../../projects/ng-poppy/src/lib/layer/layer.component.html","../../../projects/ng-poppy/src/lib/layer/layer.service.ts","../../../projects/ng-poppy/src/lib/popover/services/events.service.ts","../../../projects/ng-poppy/src/lib/popover/services/popover.service.ts","../../../projects/ng-poppy/src/lib/popover/components/popover-content/popover-content.component.html","../../../projects/ng-poppy/src/lib/popover/components/popover-content/popover-content.component.ts","../../../projects/ng-poppy/src/lib/layer/layer.module.ts","../../../node_modules/tslib/tslib.es6.js","../../../projects/ng-poppy/src/lib/popover/directives/base-popover.ts","../../../projects/ng-poppy/src/lib/popover/directives/popover.directive.ts","../../../projects/ng-poppy/src/lib/popover/directives/popover-chip.directive.ts","../../../projects/ng-poppy/src/lib/popover/directives/popover-chip-remove.directive.ts","../../../projects/ng-poppy/src/lib/popover/directives/popover-menu.directive.ts","../../../projects/ng-poppy/src/lib/popover/directives/popover-option.directive.ts","../../../projects/ng-poppy/src/lib/popover/directives/popover-remove-on-click.directive.ts","../../../projects/ng-poppy/src/lib/popover/directives/tooltip.directive.ts","../../../projects/ng-poppy/src/lib/popover/components/popover-select/popover-select.component.html","../../../projects/ng-poppy/src/lib/popover/components/popover-select/popover-select.component.ts","../../../projects/ng-poppy/src/lib/popover/popover.module.ts","../../../projects/ng-poppy/src/public-api.ts","../../../projects/ng-poppy/src/ng-poppy.ts"],"sourcesContent":["import { ElementRef, InjectionToken, TemplateRef } from '@angular/core';\n\nimport {\n  PopoverBounds,\n  PopoverMenu,\n  PopoverPosition,\n  PopoverTrigger,\n  PopoverType,\n} from './popover.interface';\nimport { BasePopoverDirective } from './directives/base-popover';\nimport { PopoverMenuItemDirective } from './directives/popover-menu-item.directive';\nimport { PopoverMenuComponent } from './components/popover-menu/popover-menu.component';\n\nexport const POPOVER_CONFIG = new InjectionToken<PopoverConfig>('popover-config');\n\nexport interface PopoverConfig {\n  bounds: PopoverBounds;\n  type: PopoverType;\n  triggerDirective?: BasePopoverDirective;\n  content?: TemplateRef<any> | string;\n  trigger?: PopoverTrigger;\n  triggerElement?: ElementRef;\n  menuItems?: PopoverMenu;\n  menuRef?: PopoverMenuComponent;\n  styles?: { [key: string]: number | string };\n  submenuTriggeredItem?: PopoverMenuItemDirective;\n  multiselect?: boolean;\n  closeOnClickOutside?: boolean;\n  closeOnClickItem?: boolean;\n  selectable?: boolean;\n  innerClass?: string;\n  position?: PopoverPosition;\n}\n","import { IPopoverAppendOptions, PopoverTrigger, PopoverType } from '../popover.interface';\n\nexport class PopoverAppendOptions {\n  type: PopoverType;\n  triggeredBy: PopoverTrigger;\n  closeOnScroll: boolean;\n  delayClose: number;\n  closeOnTriggerAgain: boolean;\n  hideOnScroll: boolean;\n\n  constructor(options: IPopoverAppendOptions) {\n    this.type = options.type;\n    this.triggeredBy = options.triggeredBy || 'click';\n    this.closeOnScroll = options.closeOnScroll !== undefined ? options.closeOnScroll : true;\n    this.delayClose = Number.isInteger(options.delayClose) ? options.delayClose : null;\n    this.closeOnTriggerAgain = !!options.closeOnTriggerAgain;\n    this.hideOnScroll = !!options.hideOnScroll;\n  }\n}\n","import { animate, state, style, transition, trigger } from '@angular/animations';\n\nexport const fadeInAnimation = trigger('fadeIn', [\n  state(\n    'open',\n    style({\n      transform: 'translateY(0px)',\n      opacity: 1,\n    })\n  ),\n  state(\n    'close',\n    style({\n      transform: 'translateY(-6px)',\n      opacity: 0.5,\n    })\n  ),\n  transition('close => open', [animate('0.15s')]),\n]);\n","import { ElementRef } from '@angular/core';\nimport { PopoverConfig } from '../popover.token';\nimport { PopoverPosition, PopoverType } from '../popover.interface';\nimport { PopoverContentComponent } from '../components/popover-content/popover-content.component';\n\nconst SPACE_FROM_BOTTOM = 20;\nconst SPACE_FROM_TOP = 10;\nconst HORIZONTAL_SPACE = 10;\nconst POSITION_MEASURE_UNIT = 'px';\n\nexport class PopoverStyles {\n  private popover: PopoverContentComponent;\n  private hostElement: ElementRef<any>;\n  private config: PopoverConfig;\n  private type: PopoverType;\n  private position: PopoverPosition;\n  private initHostElementWidth: number = 0;\n\n  constructor(popover: PopoverContentComponent) {\n    this.popover = popover;\n    this.hostElement = popover.element;\n    this.config = popover.popoverConfig;\n    this.type = this.config.type;\n    this.position = this.config.position;\n  }\n\n  init(): void {\n    const hostBounds = this.config.bounds;\n\n    this.hostElement.nativeElement.style.zIndex = 10000;\n\n    this.setPositionStyle('left', 0);\n    this.setPositionStyle('top', +hostBounds.top + hostBounds.height + SPACE_FROM_TOP);\n\n    if (!this.isContextType && !this.isSubmenuType) {\n      this.hostElement.nativeElement.style.minWidth = hostBounds.width + 'px';\n    }\n\n    if (this.isContextType) {\n      this.setPositionStyle('top', +hostBounds.top);\n      this.hostElement.nativeElement.style.minWidth = 0;\n    }\n\n    if (this.isSubmenuType) {\n      const triggerItem = this.config.submenuTriggeredItem.element.nativeElement;\n      const triggerBounds: ClientRect = triggerItem.getBoundingClientRect();\n\n      this.hostElement.nativeElement.style.minWidth = 0;\n      this.setPositionStyle('top', triggerBounds.top);\n    }\n\n    if (this.canAssignPadding) {\n      const padding = this.isTooltip ? '8px 12px' : '15px 25px';\n      this.popover.popoverWrapperEl.nativeElement.style.padding = padding;\n    }\n\n    this.hostElement.nativeElement.style.visibility = 'hidden';\n\n    setTimeout(() => {\n      this.initHostElementWidth = this.hostElement.nativeElement.offsetWidth + 1;\n      this.hostElement.nativeElement.style.minWidth = this.initHostElementWidth + 'px';\n    });\n  }\n\n  update(): void {\n    this.setLeftPosition();\n    this.setTopPosition();\n    this.setWidth();\n\n    this.hostElement.nativeElement.style.visibility = 'visible';\n  }\n\n  private setTopPosition(): void {\n    const windowHeight = window.innerHeight;\n    const elementHeight = this.hostElement.nativeElement.getBoundingClientRect().height;\n    const triggerBounds = this.config.triggerElement.nativeElement.getBoundingClientRect();\n\n    if (this.config.triggerDirective) {\n      const hostTopPosition =\n        this.config.type === 'context' ? this.config.bounds.top : triggerBounds.top + triggerBounds.height;\n      const isBelowWindowCenterHeight = elementHeight >= windowHeight - hostTopPosition - SPACE_FROM_BOTTOM;\n\n      if (isBelowWindowCenterHeight) {\n        if (this.config.type === 'context') {\n          this.setPositionStyle('top', +this.config.bounds.top - elementHeight + SPACE_FROM_TOP);\n        } else {\n          const newPos = triggerBounds.top - elementHeight - SPACE_FROM_TOP;\n          if (newPos > 0) {\n            switch (this.position) {\n              case 'bottom':\n                this.setPositionStyle('top', triggerBounds.top - elementHeight - SPACE_FROM_TOP);\n                break;\n              case 'top':\n                this.setPositionStyle('top', triggerBounds.top - elementHeight - SPACE_FROM_TOP);\n            }\n          } else {\n            this.hostElement.nativeElement.style.height =\n              windowHeight - hostTopPosition - SPACE_FROM_BOTTOM + POSITION_MEASURE_UNIT;\n          }\n        }\n      } else {\n        if (this.config.type === 'context') {\n          this.setPositionStyle('top', +this.config.bounds.top + SPACE_FROM_TOP);\n        } else {\n          switch (this.position) {\n            case 'bottom':\n              this.setPositionStyle('top', triggerBounds.top + triggerBounds.height + SPACE_FROM_TOP);\n              break;\n            case 'top':\n              this.setPositionStyle('top', triggerBounds.top - elementHeight - SPACE_FROM_TOP);\n              break;\n            case 'left':\n            case 'right':\n              this.setPositionStyle(\n                'top',\n                triggerBounds.top - (elementHeight / 2 - triggerBounds.height / 2)\n              );\n              break;\n          }\n        }\n      }\n    }\n\n    if (!this.config.triggerDirective) {\n      const hostBounds = this.config.submenuTriggeredItem.element.nativeElement.getBoundingClientRect();\n      const hostPosition = hostBounds.top;\n\n      if (elementHeight >= windowHeight - hostPosition - SPACE_FROM_BOTTOM) {\n        const diff = elementHeight - (windowHeight - hostPosition);\n        this.setPositionStyle('top', hostPosition - diff - SPACE_FROM_BOTTOM);\n      } else {\n        this.setPositionStyle('top', hostPosition);\n      }\n    }\n  }\n\n  private setLeftPosition(): void {\n    const windowWidth = window.innerWidth;\n    const elementWidth = this.hostElement.nativeElement.getBoundingClientRect().width;\n    const triggerBounds = this.config.triggerElement.nativeElement.getBoundingClientRect();\n\n    if (this.isContextType) {\n      if (+this.config.bounds.left >= windowWidth / 2) {\n        this.setPositionStyle('left', +this.config.bounds.left - elementWidth);\n      } else {\n        this.setPositionStyle('left', this.defaultLeftPosition);\n      }\n    } else if (this.config.triggerDirective) {\n      switch (this.position) {\n        case 'bottom':\n        case 'top':\n          this.setPositionStyle('left', triggerBounds.left);\n          break;\n        case 'left':\n          this.setPositionStyle('left', triggerBounds.left - elementWidth - HORIZONTAL_SPACE);\n          break;\n        case 'right':\n          this.setPositionStyle('left', triggerBounds.left + triggerBounds.width + HORIZONTAL_SPACE);\n          break;\n      }\n\n      const hostRecBounds = this.hostElement.nativeElement.getBoundingClientRect();\n\n      if (hostRecBounds.right > windowWidth - 20) {\n        this.setPositionStyle('left', hostRecBounds.left - (hostRecBounds.right - windowWidth + 20));\n      }\n\n      if (hostRecBounds.left < 0) {\n        this.setPositionStyle('left', 15);\n      }\n    } else {\n      const hostBounds = this.config.submenuTriggeredItem.element.nativeElement.getBoundingClientRect();\n\n      if (elementWidth > windowWidth - hostBounds.right) {\n        this.setPositionStyle('left', hostBounds.left - this.initHostElementWidth);\n      } else {\n        this.setPositionStyle('left', hostBounds.right);\n      }\n    }\n  }\n\n  private setWidth(): void {\n    const triggerBounds: ClientRect = this.config.triggerElement.nativeElement.getBoundingClientRect();\n\n    if (!this.isContextType && !this.isSubmenuType) {\n      const windowWidth = window.innerWidth;\n      const hostElBounds = this.hostElement.nativeElement.getBoundingClientRect();\n\n      this.hostElement.nativeElement.style.minWidth = this.initHostElementWidth + POSITION_MEASURE_UNIT;\n\n      if (!this.isMenuType) {\n        if (hostElBounds.width > windowWidth || this.initHostElementWidth > windowWidth - 30) {\n          this.hostElement.nativeElement.style.width = windowWidth - 30 + POSITION_MEASURE_UNIT;\n          this.hostElement.nativeElement.style.minWidth = windowWidth - 30 + POSITION_MEASURE_UNIT;\n          this.setPositionStyle('left', 15);\n        }\n      }\n    }\n  }\n\n  private setPositionStyle(property: 'top' | 'left', value: number): void {\n    this.hostElement.nativeElement.style[property] = value + POSITION_MEASURE_UNIT;\n  }\n\n  private get defaultLeftPosition(): number {\n    return this.config.bounds.left;\n  }\n\n  private get canAssignPadding(): boolean {\n    return (\n      (!this.isContextType && !this.isMenuType && !this.isSubmenuType) ||\n      (this.isSubmenuType && !!this.config.content)\n    );\n  }\n\n  private get isContextType(): boolean {\n    return this.type === 'context';\n  }\n\n  private get isMenuType(): boolean {\n    return this.type === 'menu';\n  }\n\n  private get isSubmenuType(): boolean {\n    return this.type === 'submenu';\n  }\n\n  private get isTooltip(): boolean {\n    return this.type === 'tooltip';\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  AfterViewInit,\n  Output,\n  Input,\n  TemplateRef,\n  HostBinding,\n  OnInit,\n  OnChanges,\n} from '@angular/core';\nimport { fromEvent, Observable } from 'rxjs';\nimport { PopoverMenuComponent } from '../components/popover-menu/popover-menu.component';\nimport { tap } from 'rxjs/operators';\n\n@Directive({\n  selector: '[poppy-menu-item]',\n})\nexport class PopoverMenuItemDirective implements OnInit, AfterViewInit {\n  @Input() submenu: PopoverMenuComponent | TemplateRef<any>;\n  @Input() selected: boolean = false;\n  @Input() hidden: boolean = false;\n  @Output() clicked: EventEmitter<void> = new EventEmitter();\n\n  @HostBinding('class.popover-menu-item--selected')\n  get selectedClass(): boolean {\n    return this.selected;\n  }\n\n  @HostBinding('class.popover-menu-item--hidden')\n  get hiddenClass(): boolean {\n    return this.hidden;\n  }\n\n  clicked$: Observable<MouseEvent>;\n  hovered$: Observable<MouseEvent>;\n  global$: Observable<MouseEvent>;\n\n  constructor(public element: ElementRef) {}\n\n  ngOnInit(): void {\n    this.clicked$ = fromEvent<MouseEvent>(this.element.nativeElement, 'click').pipe(\n      tap(() => {\n        this.clicked.emit();\n      })\n    );\n    this.hovered$ = fromEvent(this.element.nativeElement, 'mousemove');\n    // this.global$ = fromEvent<MouseEvent>(document, 'click').pipe(tap(() => console.log('clicked window')));\n  }\n\n  ngAfterViewInit(): void {\n    this.element.nativeElement.classList.add('popover-menu-item');\n  }\n}\n","<ng-template>\n  <ng-content></ng-content>\n</ng-template>","import { QueryList, ContentChildren, Component, TemplateRef, ViewChild, ChangeDetectionStrategy } from '@angular/core';\nimport { PopoverMenuItemDirective } from '../../directives/popover-menu-item.directive';\n\n@Component({\n  selector: 'poppy-menu',\n  exportAs: 'poppyMenu',\n  templateUrl: './popover-menu.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class PopoverMenuComponent {\n  @ContentChildren(PopoverMenuItemDirective) menuItems: QueryList<PopoverMenuItemDirective>;\n  @ViewChild(TemplateRef) templateRef: TemplateRef<any>;\n\n  constructor() {}\n}\n","import { ComponentRef } from '@angular/core';\n\nimport { PopoverType } from '../popover.interface';\nimport { PopoverContentComponent } from '../components/popover-content/popover-content.component';\nimport { BasePopoverDirective } from '../directives/base-popover';\n\nexport class ActivePopover {\n  isMenuParent: boolean;\n  isSuperparent: boolean;\n  isSubmenu: boolean;\n\n  constructor(\n    public popoverRef: ComponentRef<PopoverContentComponent>,\n    public parentPopoverRef: ComponentRef<PopoverContentComponent>,\n    public superParentPopoverRef: ComponentRef<PopoverContentComponent>,\n    public directiveRef: BasePopoverDirective,\n    public type: PopoverType,\n    public deepLevel: number\n  ) {\n    this.isMenuParent = type === 'menu';\n    this.isSubmenu = type === 'submenu';\n    this.isSuperparent = this.popoverRef === this.superParentPopoverRef;\n  }\n}\n","import { ILayerAppendOptions } from './layer.interface';\n\nexport class LayerAppendOptions {\n  delayClose: number;\n  overlay: boolean;\n\n  constructor(options: ILayerAppendOptions = {}) {\n    this.delayClose = Number.isInteger(options.delayClose) ? options.delayClose : null;\n    this.overlay = !!options.overlay;\n  }\n}\n","import { InjectionToken } from '@angular/core';\n\nexport const LAYER_CONFIG = new InjectionToken<LayerConfig>('layer-token');\n\nexport interface LayerConfig {\n  overlay?: boolean;\n}\n","import {\n  Component,\n  HostBinding,\n  Inject,\n  ViewChild,\n  ViewContainerRef,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { LAYER_CONFIG, LayerConfig } from './layer.token';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'poppy-layer',\n  templateUrl: './layer.component.html',\n  styleUrls: ['./layer.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class LayerComponent {\n  @ViewChild('container', { read: ViewContainerRef}) container: ViewContainerRef;\n\n  constructor(@Inject(LAYER_CONFIG) private config: LayerConfig) {}\n\n  @HostBinding('class.poppy-layer--overlay') get overlay(): boolean {\n    return this.config.overlay;\n  }\n}\n","<ng-container #container></ng-container>\n","import {\n  ApplicationRef,\n  ComponentFactoryResolver,\n  ComponentRef,\n  EmbeddedViewRef,\n  Injectable,\n  Injector,\n  Type,\n} from '@angular/core';\nimport { LayerComponent } from './layer.component';\nimport { ActiveLayer } from './layer.interface';\nimport { LayerAppendOptions } from './layer.model';\nimport { LAYER_CONFIG } from './layer.token';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LayerService {\n  private activeLayers: ActiveLayer<any>[] = [];\n\n  constructor(\n    private readonly componentFactoryResolver: ComponentFactoryResolver,\n    private readonly appRef: ApplicationRef\n  ) {}\n\n  appendToBody<T>(component: Type<T>, options: LayerAppendOptions, injector?): ComponentRef<T> {\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(LayerComponent);\n    const componentRef = componentFactory.create(\n      Injector.create([\n        {\n          provide: LAYER_CONFIG,\n          useValue: options,\n        },\n      ])\n    );\n\n    componentRef.changeDetectorRef.detectChanges();\n\n    const appendComponentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\n    const appendComponentRef = componentRef.instance.container.createComponent(\n      appendComponentFactory,\n      null,\n      injector\n    );\n\n    this.activeLayers.push({\n      ref: componentRef,\n      appendComponentRef,\n      options,\n    });\n\n    this.appRef.attachView(componentRef.hostView);\n    const domElem = (componentRef.hostView as EmbeddedViewRef<unknown>).rootNodes[0] as HTMLElement;\n    document.body.appendChild(domElem);\n\n    return appendComponentRef;\n  }\n\n  removeFromBody<T>(componentRef: ComponentRef<T>): void {\n    const layers = this.activeLayers.filter((layer) => layer.appendComponentRef === componentRef);\n\n    layers.forEach((layer) => {\n      const delayClose = layer.options.delayClose;\n      if (delayClose !== null) {\n        setTimeout(() => {\n          this.removeLayer<T>(layer);\n        }, delayClose);\n      } else {\n        this.removeLayer<T>(layer);\n      }\n    });\n\n    this.activeLayers = this.activeLayers.filter((layer) => layer.appendComponentRef !== componentRef);\n  }\n\n  private removeLayer<T>(layer: ActiveLayer<T>): void {\n    this.appRef.detachView(layer.ref.hostView);\n    layer.ref.changeDetectorRef.detectChanges();\n    layer.ref.destroy();\n  }\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { IPopoverEventService } from '../popover.interface';\nimport { Subscription, Observable, merge, fromEvent } from 'rxjs';\nimport { ActivePopover } from '../models/popover-active.model';\nimport { tap } from 'rxjs/operators';\n\nexport type PopoverEventType = 'click-outside' | 'resize' | 'capture-scroll';\n\ninterface PopoverRegisteredEvent {\n  sub: Subscription;\n  popover: ActivePopover;\n  type: PopoverEventType;\n  callback?: (args?) => void | any;\n}\n\n@Injectable({ providedIn: 'root' })\nexport class PopoverEventsService implements IPopoverEventService {\n  private registeredEvents: PopoverRegisteredEvent[] = [];\n\n  constructor(private ngZone: NgZone) {}\n\n  register(\n    type: PopoverEventType,\n    activePopover: ActivePopover,\n    callback: (event: Event) => void | any\n  ): void {\n    let sub: Subscription;\n\n    this.ngZone.runOutsideAngular(() => {\n      const obs: Observable<Event> = this.getEventObservable(type);\n      sub = obs.subscribe((event) => {\n        callback(event);\n      });\n    });\n\n    this.registeredEvents.push({ popover: activePopover, type, sub, callback });\n  }\n\n  unregister(type: PopoverEventType, activePopover: ActivePopover): void {\n    this.registeredEvents\n      .filter((event) => event.type === type)\n      .forEach((event) => {\n        if (event.popover === activePopover) {\n          event.sub.unsubscribe();\n        }\n      });\n    this.registeredEvents = this.registeredEvents.filter((event) =>\n      event.type === type ? event.popover !== activePopover : true\n    );\n  }\n\n  subscribe(type: PopoverEventType, popover: ActivePopover): void {\n    const obs: Observable<Event> = this.getEventObservable(type);\n\n    this.registeredEvents\n      .filter((event) => event.type === type && event.popover === popover && event.sub?.closed)\n      .forEach((event) => {\n        event.sub = obs.subscribe((e) => event.callback(e));\n      });\n  }\n\n  unsubscribe(type: PopoverEventType, popover: ActivePopover): void {\n    this.registeredEvents\n      .filter((event) => event.type === type && event.popover === popover)\n      .forEach((event) => {\n        event.sub.unsubscribe();\n      });\n  }\n\n  private getEventObservable(type: PopoverEventType): Observable<Event> {\n    switch (type) {\n      case 'click-outside':\n        return merge(fromEvent(document, 'click'), fromEvent(document, 'contextmenu'))\n          .pipe\n          // tap(() => console.log('listen for click outside..'))\n          ();\n      case 'capture-scroll':\n        return fromEvent<MouseEvent>(document, 'scroll').pipe(\n          tap(() => {\n            // console.log('Capturing scroll event..');\n          })\n        );\n      case 'resize':\n        return fromEvent<MouseEvent>(window, 'resize').pipe(\n          tap(() => {\n            // console.log('Resize event..');\n          })\n        );\n    }\n  }\n}\n","import { ComponentRef, Injectable, Injector } from '@angular/core';\n\nimport { PopoverContentComponent } from '../components/popover-content/popover-content.component';\nimport { LayerService } from '../../layer/layer.service';\nimport { PopoverAppendOptions } from '../models/popover-append-options.model';\nimport { ActivePopover } from '../models/popover-active.model';\nimport { BasePopoverDirective } from '../directives/base-popover';\nimport { LayerAppendOptions } from '../../layer/layer.model';\nimport { PopoverEventsService } from './events.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class PopoverService {\n  activePopovers: ActivePopover[] = [];\n\n  constructor(private layerService: LayerService, private eventsService: PopoverEventsService) {}\n\n  append(\n    injector: Injector,\n    directive: BasePopoverDirective,\n    options: PopoverAppendOptions,\n    parentPopoverRef?: ComponentRef<PopoverContentComponent>\n  ): ComponentRef<PopoverContentComponent> {\n    const existedPopover = this.activePopovers.find((popover) => popover.directiveRef === directive);\n\n    if (options.closeOnTriggerAgain && existedPopover) {\n      this.remove(existedPopover.popoverRef);\n      return existedPopover.popoverRef;\n    } else {\n      return this.appendToBody(injector, directive, options, parentPopoverRef);\n    }\n  }\n\n  remove(popoverRef: ComponentRef<PopoverContentComponent>): void {\n    const active: ActivePopover = this.activePopovers.find((p) => p.popoverRef === popoverRef);\n\n    if (active) {\n      if (active.directiveRef) {\n        active.directiveRef.popoverComponentRef = null;\n        active.directiveRef.afterClose.emit();\n      }\n      active.popoverRef.destroy();\n      this.layerService.removeFromBody(active.popoverRef);\n      this.eventsService.unregister('click-outside', active);\n      this.eventsService.unregister('capture-scroll', active);\n      this.eventsService.unregister('resize', active);\n\n      this.activePopovers = this.activePopovers.filter((a) => a.popoverRef !== popoverRef);\n    }\n  }\n\n  removeByNativeElementRef(element: HTMLElement): void {\n    const activePopover = this.activePopovers.find(\n      (active) => active.popoverRef.location.nativeElement === element\n    );\n\n    if (activePopover) {\n      this.remove(activePopover.popoverRef);\n    }\n  }\n\n  getActive(popoverRef: ComponentRef<PopoverContentComponent>): ActivePopover {\n    return this.activePopovers.find((active) => active.popoverRef === popoverRef);\n  }\n\n  isPopoverSubmenuExits(\n    precendingRef: ComponentRef<PopoverContentComponent>,\n    parentRef: ComponentRef<PopoverContentComponent>\n  ): boolean {\n    const precendingActivePopover: ActivePopover = this.getActive(precendingRef);\n\n    if (!precendingActivePopover || (precendingActivePopover && !precendingActivePopover.deepLevel)) {\n      return false;\n    }\n\n    return !!this.activePopovers.find(\n      (popover) =>\n        popover.parentPopoverRef === parentRef && popover.deepLevel === precendingActivePopover.deepLevel + 1\n    );\n  }\n\n  removeAllNestedPopovers(popoverRef: ComponentRef<PopoverContentComponent>): void {\n    const activePopover = this.getActive(popoverRef);\n\n    if (activePopover) {\n      this.activePopovers\n        .filter((popover) => popover.deepLevel > activePopover.deepLevel)\n        .forEach((popover) => {\n          this.remove(popover.popoverRef);\n        });\n    }\n  }\n\n  removeMenu(componentRef: ComponentRef<PopoverContentComponent>): void {\n    this.activePopovers\n      .filter((popover) => popover.parentPopoverRef === componentRef || popover.popoverRef === componentRef)\n      .forEach((popover) => {\n        this.remove(popover.popoverRef);\n      });\n  }\n\n  subscribeToClickOutsideEventForParentPopover(componentRef: ComponentRef<PopoverContentComponent>): void {\n    const currentPopover: ActivePopover = this.getActive(componentRef);\n\n    if (currentPopover) {\n      const parentPopover: ActivePopover = this.activePopovers.find(\n        (popover) =>\n          popover.superParentPopoverRef === currentPopover.superParentPopoverRef &&\n          popover.deepLevel === currentPopover.deepLevel - 1\n      );\n\n      if (parentPopover) {\n        setTimeout(() => {\n          this.eventsService.subscribe('click-outside', parentPopover);\n        });\n      }\n    }\n  }\n\n  private appendToBody(\n    injector: Injector,\n    directive: BasePopoverDirective,\n    options: PopoverAppendOptions,\n    parentPopoverRef?: ComponentRef<PopoverContentComponent>\n  ): ComponentRef<PopoverContentComponent> {\n    const layerOptions = new LayerAppendOptions({ delayClose: options.delayClose });\n    const popover = this.layerService.appendToBody(PopoverContentComponent, layerOptions, injector);\n    const { superparent, deepLevel } = this.prepareSuperparentAndDeepLevel(\n      popover,\n      parentPopoverRef,\n      directive\n    );\n    const newPopover = new ActivePopover(\n      popover,\n      parentPopoverRef,\n      superparent,\n      directive,\n      options.type,\n      deepLevel\n    );\n\n    popover.instance.componentRef = popover;\n    popover.instance.parentPopoverRef = popover;\n    popover.changeDetectorRef.detectChanges();\n\n    this.activePopovers.push(newPopover);\n\n    if (newPopover.directiveRef) {\n      newPopover.directiveRef.afterShow.emit();\n    }\n\n    if (this.canRegisterScrollCaptureEvent(newPopover, options)) {\n      this.registerScrollCaptureEvent(newPopover, options);\n    }\n\n    if (this.canRegisterResizeEvent(newPopover, options)) {\n      this.registerResizeEvent(newPopover, options);\n    }\n\n    return popover;\n  }\n\n  private prepareSuperparentAndDeepLevel(\n    popover: ComponentRef<PopoverContentComponent>,\n    parentPopover: ComponentRef<PopoverContentComponent>,\n    directive: BasePopoverDirective\n  ): { deepLevel: number; superparent: ComponentRef<PopoverContentComponent> } {\n    let deepLevel = 0;\n    let superparent = null;\n\n    if (directive) {\n      const parentPopover = this.activePopovers.find((p) => {\n        return p.popoverRef.instance.element.nativeElement.contains(directive.hostElement.nativeElement);\n      });\n\n      if (!parentPopover) {\n        superparent = popover;\n        deepLevel = 0;\n      } else {\n        superparent = parentPopover.superParentPopoverRef || parentPopover.popoverRef;\n        deepLevel = parentPopover.deepLevel + 1;\n      }\n    } else {\n      const closestParent = this.activePopovers.find((p) => p.popoverRef === parentPopover);\n      if (closestParent) {\n        const popoverGroup = this.activePopovers.filter(\n          (p) => p.superParentPopoverRef === closestParent.superParentPopoverRef\n        );\n        superparent = closestParent.superParentPopoverRef;\n        deepLevel = popoverGroup[popoverGroup.length - 1].deepLevel + 1;\n      }\n    }\n\n    return {\n      deepLevel,\n      superparent,\n    };\n  }\n\n  private canRegisterScrollCaptureEvent(popover: ActivePopover, options: PopoverAppendOptions): boolean {\n    const { triggeredBy, type, closeOnScroll } = options;\n\n    return (\n      popover.directiveRef &&\n      popover.deepLevel === 0 &&\n      triggeredBy !== 'hover' &&\n      type !== 'submenu' &&\n      closeOnScroll\n    );\n  }\n\n  private canRegisterResizeEvent(popover: ActivePopover, options: PopoverAppendOptions): boolean {\n    const { triggeredBy, type } = options;\n\n    return popover.directiveRef && popover.deepLevel === 0 && triggeredBy !== 'hover' && type !== 'submenu';\n  }\n\n  private registerResizeEvent(popover: ActivePopover, options: PopoverAppendOptions): void {\n    this.eventsService.register('resize', popover, () => {\n      if (options.type === 'context') {\n        this.hideGroup(popover);\n      } else {\n        this.updateGroupPosition(popover);\n      }\n    });\n  }\n\n  private registerScrollCaptureEvent(popover: ActivePopover, options: PopoverAppendOptions): void {\n    this.eventsService.register('capture-scroll', popover, (event: MouseEvent) => {\n      const captured =\n        popover.directiveRef.hostElement.nativeElement === event.target ||\n        (event.target as HTMLElement).contains(popover.directiveRef.hostElement.nativeElement);\n\n      if ((captured && options.hideOnScroll) || options.type === 'context') {\n        this.hideGroup(popover);\n      }\n\n      if (captured && !options.hideOnScroll && options.type !== 'context') {\n        this.updateGroupPosition(popover);\n      }\n    });\n  }\n\n  private hideGroup(popover: ActivePopover): void {\n    this.activePopovers.forEach((active) => {\n      if (active.superParentPopoverRef === popover.superParentPopoverRef) {\n        this.remove(active.popoverRef);\n      }\n    });\n  }\n\n  private updateGroupPosition(popover: ActivePopover): void {\n    this.activePopovers\n      .filter((active) => active.superParentPopoverRef === popover.popoverRef)\n      .forEach((active) => {\n        if (active.popoverRef.instance.componentStyles) {\n          active.popoverRef.instance.componentStyles.update();\n        }\n      });\n  }\n}\n","<div\n  #popoverWrapperEl\n  class=\"popover-content\"\n  [@fadeIn]=\"animationState\"\n  (@fadeIn.done)=\"animationEnd($event)\"\n>\n  <ng-container *ngIf=\"template; else textContent\">\n    <ng-container *ngTemplateOutlet=\"template\"></ng-container>\n  </ng-container>\n\n  <ng-template #textContent>\n    {{ popoverConfig.content }}\n  </ng-template>\n</div>\n","import {\n  AfterViewInit,\n  ChangeDetectorRef,\n  Component,\n  ComponentFactoryResolver,\n  ComponentRef,\n  ElementRef,\n  Inject,\n  Injector,\n  NgZone,\n  OnDestroy,\n  ViewChild,\n  ViewRef,\n  ViewEncapsulation,\n  TemplateRef,\n} from '@angular/core';\nimport { AnimationEvent } from '@angular/animations';\nimport { fromEvent, Subject } from 'rxjs';\nimport { debounceTime, skipUntil, takeUntil } from 'rxjs/operators';\n\nimport { POPOVER_CONFIG, PopoverConfig } from '../../popover.token';\nimport { PopoverService } from '../../services/popover.service';\nimport { PopoverType } from '../../popover.interface';\nimport { PopoverAppendOptions } from '../../models/popover-append-options.model';\nimport { fadeInAnimation } from '../../popover.animations';\nimport { PopoverStyles } from '../../models/popover-styles.model';\nimport { PopoverEventsService } from '../../services/events.service';\nimport { PopoverMenuItemDirective } from '../../directives/popover-menu-item.directive';\nimport { PopoverMenuComponent } from '../popover-menu/popover-menu.component';\n\n@Component({\n  selector: 'poppy-content',\n  templateUrl: './popover-content.component.html',\n  styleUrls: ['./popover-content.component.scss'],\n  animations: [fadeInAnimation],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class PopoverContentComponent implements OnDestroy, AfterViewInit {\n  @ViewChild('popoverWrapperEl') popoverWrapperEl: ElementRef;\n\n  componentRef: ComponentRef<PopoverContentComponent>;\n  parentPopoverRef: ComponentRef<PopoverContentComponent>;\n  animationState: 'open' | 'close' = 'close';\n  componentStyles: PopoverStyles;\n  private subMenuComponentRef: ComponentRef<PopoverContentComponent>;\n  private animationEnd$ = new Subject();\n  private menuItemsChanged = new Subject();\n  private destroy$ = new Subject();\n\n  constructor(\n    public readonly element: ElementRef,\n    private readonly ngZone: NgZone,\n    private readonly componentFactoryResolver: ComponentFactoryResolver,\n    private readonly popoverService: PopoverService,\n    private readonly popoverEventsService: PopoverEventsService,\n    private readonly cdr: ChangeDetectorRef,\n    @Inject(POPOVER_CONFIG) public readonly popoverConfig: PopoverConfig\n  ) {}\n\n  ngAfterViewInit(): void {\n    this.applyStyles();\n\n    if (this.popoverConfig.submenuTriggeredItem) {\n      this.popoverConfig.submenuTriggeredItem.element.nativeElement.classList.add(\n        'popover-menu-item--focused'\n      );\n    }\n\n    if (this.popoverConfig.innerClass) {\n      this.popoverWrapperEl.nativeElement.classList.add(this.popoverConfig.innerClass);\n    }\n\n    this.listenForMouseEventOnHost();\n\n    if (this.canListenForClickOutside()) {\n      this.ngZone.runOutsideAngular(() => {\n        setTimeout(() => {\n          this.listenForClickOutside();\n        });\n      });\n    }\n\n    if (this.popoverConfig.menuRef?.menuItems) {\n      this.listenForMenuItemTriggers();\n\n      // Subscribe to click outside event again, when menu items changed - it's workaround to refresh host element content;\n      this.popoverConfig.menuRef.menuItems.changes.pipe(takeUntil(this.destroy$)).subscribe(() => {\n        this.menuItemsChanged.next();\n\n        this.listenForMenuItemTriggers();\n        this.popoverEventsService.unregister(\n          'click-outside',\n          this.popoverService.getActive(this.componentRef)\n        );\n        setTimeout(() => {\n          this.listenForClickOutside();\n          this.componentStyles.update();\n        }, 0);\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.popoverConfig.submenuTriggeredItem) {\n      this.popoverConfig.submenuTriggeredItem.element.nativeElement.classList.remove(\n        'popover-menu-item--focused'\n      );\n    }\n\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  get template(): TemplateRef<any> {\n    return (\n      (this.popoverConfig.content instanceof TemplateRef &&\n        (this.popoverConfig.content as TemplateRef<any>)) ||\n      this.popoverConfig.menuRef?.templateRef\n    );\n  }\n\n  animationEnd(event: AnimationEvent): void {\n    if (event.toState === 'open') {\n      this.animationEnd$.next();\n    }\n  }\n\n  private applyStyles(): void {\n    this.componentStyles = new PopoverStyles(this);\n    this.componentStyles.init();\n\n    setTimeout(() => {\n      this.componentStyles.update();\n      this.animationState = 'open';\n      this.detectChanges();\n    });\n  }\n\n  private onClickMenuItem(item: PopoverMenuItemDirective): void {\n    const hasItemNestedSubpopovers = !!item.submenu;\n\n    if (!hasItemNestedSubpopovers) {\n      if (this.popoverConfig.closeOnClickItem) {\n        this.close();\n      }\n    }\n  }\n\n  private onHoverMenuItem(item: PopoverMenuItemDirective): void {\n    const canRemoveNestedSubmenus = !this.popoverService.activePopovers.find(\n      (popover) => popover.popoverRef.instance.popoverConfig.submenuTriggeredItem === item\n    );\n    const hasItemNestedSubpopovers = !!item.submenu;\n\n    if (canRemoveNestedSubmenus) {\n      this.popoverService.removeAllNestedPopovers(this.componentRef);\n      this.detectChanges();\n    }\n\n    const isSubmenuExists = this.popoverService.isPopoverSubmenuExits(\n      this.componentRef,\n      this.parentPopoverRef\n    );\n\n    if (!isSubmenuExists && hasItemNestedSubpopovers && canRemoveNestedSubmenus) {\n      this.createSubpopover(item);\n    }\n  }\n\n  private listenForClickOutside(): void {\n    const activePopover = this.popoverService.getActive(this.componentRef);\n\n    this.popoverEventsService.register('click-outside', activePopover, (event) => {\n      const clickedElement = event.target;\n      let clickedOutside =\n        clickedElement !== this.element.nativeElement &&\n        !this.element.nativeElement.contains(clickedElement) &&\n        clickedElement !== this.popoverConfig.triggerElement.nativeElement &&\n        !this.popoverConfig.triggerElement.nativeElement.contains(clickedElement);\n\n      if (\n        this.popoverConfig.type === 'context' &&\n        (clickedElement === this.popoverConfig.triggerElement.nativeElement ||\n          this.popoverConfig.triggerElement.nativeElement.contains(clickedElement))\n      ) {\n        clickedOutside = true;\n      }\n      if (clickedOutside) {\n        this.close();\n      }\n    });\n  }\n\n  private listenForMouseEventOnHost(): void {\n    fromEvent(this.element.nativeElement, 'mouseenter')\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        const enteredPopover = this.popoverService.getActive(this.componentRef);\n\n        if (enteredPopover?.deepLevel) {\n          this.popoverService.activePopovers.forEach((popover, index) => {\n            if (index <= enteredPopover.deepLevel) {\n              this.popoverEventsService.unsubscribe('click-outside', popover);\n            } else {\n              this.popoverEventsService.subscribe('click-outside', popover);\n            }\n          });\n        }\n      });\n    fromEvent(this.element.nativeElement, 'mouseleave')\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        this.popoverService.activePopovers.forEach((popover) => {\n          this.popoverEventsService.subscribe('click-outside', popover);\n        });\n      });\n  }\n\n  private listenForMenuItemTriggers(): void {\n    this.popoverConfig.menuRef.menuItems.forEach((item) => {\n      item.clicked$.pipe(takeUntil(this.destroy$), takeUntil(this.menuItemsChanged)).subscribe(() => {\n        this.onClickMenuItem(item);\n      });\n      item.hovered$\n        .pipe(\n          takeUntil(this.destroy$),\n          takeUntil(this.menuItemsChanged),\n          debounceTime(0),\n          skipUntil(this.animationEnd$)\n        )\n        .subscribe(() => {\n          this.onHoverMenuItem(item);\n        });\n    });\n  }\n\n  private close(): void {\n    if (this.isMenu()) {\n      this.popoverService.subscribeToClickOutsideEventForParentPopover(this.componentRef);\n      this.popoverService.removeMenu(this.parentPopoverRef);\n    } else {\n      this.popoverService.remove(this.componentRef);\n    }\n  }\n\n  private createSubpopover(item: PopoverMenuItemDirective): void {\n    const factory = this.componentFactoryResolver.resolveComponentFactory(PopoverContentComponent);\n    const bounds = item.element.nativeElement.getBoundingClientRect();\n    const type: PopoverType = 'submenu';\n    const options = new PopoverAppendOptions({ type });\n\n    const providedValues: PopoverConfig = {\n      bounds,\n      type,\n      submenuTriggeredItem: item,\n      triggerElement: this.popoverConfig.triggerElement,\n      closeOnClickItem: this.popoverConfig.closeOnClickItem,\n    };\n\n    if (item?.submenu instanceof PopoverMenuComponent) {\n      providedValues.menuRef = item.submenu;\n    }\n    if (item?.submenu instanceof TemplateRef) {\n      providedValues.content = item.submenu;\n    }\n\n    const injector = Injector.create([\n      {\n        provide: POPOVER_CONFIG,\n        useValue: providedValues,\n      },\n    ]);\n\n    this.subMenuComponentRef = this.popoverService.append(injector, null, options, this.parentPopoverRef);\n    this.subMenuComponentRef.instance.componentRef = this.subMenuComponentRef;\n    this.subMenuComponentRef.instance.parentPopoverRef = this.parentPopoverRef;\n    this.subMenuComponentRef.hostView.detectChanges();\n  }\n\n  private isMenu(): boolean {\n    return (\n      this.popoverConfig.type === 'menu' ||\n      this.popoverConfig.type === 'context' ||\n      this.popoverConfig.type === 'submenu'\n    );\n  }\n\n  private canListenForClickOutside(): boolean {\n    return (\n      this.popoverConfig.closeOnClickOutside && (this.popoverConfig.trigger !== 'hover' || this.isMenu())\n    );\n  }\n\n  private detectChanges(): void {\n    if (this.cdr && !(this.cdr as ViewRef).destroyed) {\n      this.cdr.detectChanges();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LayerComponent } from './layer.component';\n\n@NgModule({\n  declarations: [LayerComponent],\n  imports: [CommonModule],\n})\nexport class LayerModule {}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import {\n  ComponentFactoryResolver,\n  ComponentRef,\n  EventEmitter,\n  Injector,\n  Input,\n  OnDestroy,\n  Output,\n  ElementRef,\n  NgZone,\n  Directive,\n  OnInit,\n} from '@angular/core';\nimport { PopoverContentComponent } from '../components/popover-content/popover-content.component';\nimport { Subject } from 'rxjs';\n\nimport { PopoverService } from '../services/popover.service';\nimport { PopoverAppendOptions } from '../models/popover-append-options.model';\nimport { PopoverPosition, PopoverTrigger, PopoverType } from '../popover.interface';\n\n@Directive()\nexport abstract class BasePopoverDirective implements OnDestroy, OnInit {\n  @Input() trigger: PopoverTrigger = 'click';\n  // Options\n  @Input() delayClose: number = null;\n  @Input() closeOnTriggerAgain = undefined;\n  @Input() closeOnClickOutside = true;\n  @Input() hideOnScroll: boolean = false;\n  @Input() innerClass: string;\n  @Input() position: PopoverPosition = 'bottom';\n  // Emitters\n  @Output() afterClose = new EventEmitter();\n  @Output() afterShow = new EventEmitter();\n\n  popoverComponentRef: ComponentRef<PopoverContentComponent>;\n  protected type: PopoverType = 'popover';\n  protected destroy$ = new Subject();\n\n  protected constructor(\n    protected readonly componentFactoryResolver: ComponentFactoryResolver,\n    protected readonly popoverService: PopoverService,\n    public readonly hostElement: ElementRef,\n    protected readonly ngZone: NgZone\n  ) {}\n\n  ngOnInit(): void {\n    this.setOptions();\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.unsubscribe();\n  }\n\n  public abstract open(): void;\n\n  protected abstract getPopoverComponentInjector(): Injector;\n\n  protected abstract canAppend(): boolean;\n\n  public close(): void {\n    if (this.popoverComponentRef) {\n      this.remove(this.popoverComponentRef);\n    }\n  }\n\n  protected appendToLayer(options: PopoverAppendOptions): void {\n    const injector = this.getPopoverComponentInjector();\n    const opts: PopoverAppendOptions = {\n      ...options,\n      delayClose: this.delayClose,\n      closeOnTriggerAgain: this.closeOnTriggerAgain,\n      hideOnScroll: this.hideOnScroll,\n    };\n\n    this.popoverComponentRef = this.popoverService.append(injector, this, opts);\n  }\n\n  protected remove(popoverRef: ComponentRef<PopoverContentComponent>): void {\n    this.ngZone.run(() => {\n      this.popoverService.remove(popoverRef);\n    });\n  }\n\n  private setOptions(): void {\n    if (this.closeOnTriggerAgain === undefined) {\n      this.closeOnTriggerAgain = !(\n        this.type === 'tooltip' ||\n        this.trigger === 'hover' ||\n        this.type === 'context'\n      );\n    }\n  }\n}\n","import {\n  AfterViewInit,\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  Injector,\n  Input,\n  NgZone,\n  TemplateRef,\n} from '@angular/core';\nimport { fromEvent, merge, timer } from 'rxjs';\nimport { takeUntil, debounceTime, tap, switchMap, take } from 'rxjs/operators';\nimport { POPOVER_CONFIG, PopoverConfig } from '../popover.token';\nimport { PopoverService } from '../services/popover.service';\nimport { PopoverAppendOptions } from '../models/popover-append-options.model';\nimport { BasePopoverDirective } from './base-popover';\n\n@Directive({\n  selector: '[poppyPopover]',\n  exportAs: 'poppyPopover',\n})\nexport class PopoverDirective extends BasePopoverDirective implements AfterViewInit {\n  @Input() poppyPopover: TemplateRef<HTMLElement> | string;\n\n  constructor(\n    protected readonly componentFactoryResolver: ComponentFactoryResolver,\n    protected readonly popoverService: PopoverService,\n    public readonly hostElement: ElementRef,\n    protected readonly ngZone: NgZone\n  ) {\n    super(componentFactoryResolver, popoverService, hostElement, ngZone);\n  }\n\n  ngAfterViewInit(): void {\n    if (this.poppyPopover) {\n      this.ngZone.runOutsideAngular(() => {\n        if (this.trigger === 'click') {\n          this.listenEventsForClickTrigger();\n        }\n\n        if (this.trigger === 'hover') {\n          this.listenEventsForHoverTrigger();\n        }\n      });\n    }\n  }\n\n  open(): void {\n    if (this.canAppend()) {\n      this.ngZone.run(() => {\n        this.append();\n      });\n    }\n  }\n\n  protected getPopoverComponentInjector(): Injector {\n    const providerValues: PopoverConfig = {\n      bounds: this.hostElement.nativeElement.getBoundingClientRect(),\n      type: this.type,\n      trigger: this.trigger,\n      triggerElement: this.hostElement,\n      triggerDirective: this,\n      content: this.poppyPopover,\n      closeOnClickOutside: this.closeOnClickOutside,\n      innerClass: this.innerClass,\n      position: this.position,\n    };\n\n    return Injector.create([\n      {\n        provide: POPOVER_CONFIG,\n        useValue: providerValues,\n      },\n    ]);\n  }\n\n  protected canAppend(): boolean {\n    return !this.popoverComponentRef || (this.popoverComponentRef && this.closeOnTriggerAgain);\n  }\n\n  private listenEventsForClickTrigger(): void {\n    fromEvent(this.hostElement.nativeElement, 'click')\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        this.open();\n      });\n  }\n\n  private listenEventsForHoverTrigger(): void {\n    let popoverHovered = false;\n    let hostHovered = false;\n    let isMouseLeftBeforeDelayTimePast = false;\n\n    merge(\n      fromEvent(this.hostElement.nativeElement, 'mouseenter'),\n      fromEvent(this.hostElement.nativeElement, 'click')\n    )\n      .pipe(\n        takeUntil(this.destroy$),\n        tap(() => {\n          fromEvent(this.hostElement.nativeElement, 'mouseleave')\n            .pipe(takeUntil(this.destroy$), takeUntil(this.afterClose), debounceTime(200))\n            .subscribe(() => {\n              hostHovered = false;\n              isMouseLeftBeforeDelayTimePast = true;\n              setTimeout(() => {\n                isMouseLeftBeforeDelayTimePast = false;\n              }, 200);\n              if (!popoverHovered) {\n                this.remove(this.popoverComponentRef);\n              }\n            });\n        }),\n        switchMap(() => timer(300))\n      )\n      .subscribe(() => {\n        const isHostElementStillInDOM = document.body.contains(this.hostElement.nativeElement);\n        popoverHovered = false;\n        hostHovered = true;\n\n        if (isHostElementStillInDOM && !isMouseLeftBeforeDelayTimePast) {\n          this.open();\n        }\n\n        setTimeout(() => {\n          if (this.popoverComponentRef) {\n            fromEvent(this.popoverComponentRef.instance.element.nativeElement, 'mouseenter')\n              .pipe(takeUntil(this.afterClose))\n              .subscribe(() => {\n                popoverHovered = true;\n              });\n\n            fromEvent(this.popoverComponentRef.instance.element.nativeElement, 'mouseleave')\n              .pipe(takeUntil(this.afterClose))\n              .subscribe(() => {\n                popoverHovered = false;\n                if (!hostHovered) {\n                  this.remove(this.popoverComponentRef);\n                }\n              });\n          }\n        }, 0);\n      });\n\n    this.destroy$.pipe(take(1)).subscribe(() => {\n      if (this.popoverComponentRef) {\n        this.remove(this.popoverComponentRef);\n      }\n    });\n  }\n\n  private append(): void {\n    const options = new PopoverAppendOptions({\n      type: 'popover',\n      triggeredBy: this.trigger,\n    });\n\n    this.appendToLayer(options);\n  }\n}\n","import { Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n  selector: '[poppy-chip]',\n  exportAs: 'poppyChip'\n})\nexport class PopoverChipDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n","import { Directive, Input, HostListener } from '@angular/core';\nimport { PopoverSelectComponent } from '../components/popover-select/popover-select.component';\n\n@Directive({\n  selector: '[poppyChipRemove]'\n})\nexport class PopoverChipRemoveDirective {\n  @Input() poppyChipRemove: any;\n\n  @HostListener('click', ['$event'])\n  onClick(event: Event) {\n    this.remove(event);\n  }\n\n  constructor(private selectComponentRef: PopoverSelectComponent) {}\n\n  remove(event: Event): void {\n    if (this.selectComponentRef) {\n      this.selectComponentRef.closeChip(this.poppyChipRemove, event);\n    }\n  }\n}\n","import {\n  AfterViewInit,\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  Injector,\n  Input,\n  NgZone,\n} from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { POPOVER_CONFIG, PopoverConfig } from '../popover.token';\nimport { PopoverBounds, PopoverContextMenuPosition, PopoverMenuType } from '../popover.interface';\nimport { PopoverService } from '../services/popover.service';\nimport { PopoverAppendOptions } from '../models/popover-append-options.model';\nimport { BasePopoverDirective } from './base-popover';\nimport { PopoverMenuComponent } from '../components/popover-menu/popover-menu.component';\n\n@Directive({\n  selector: '[poppyMenu]',\n  exportAs: 'poppyMenu',\n})\nexport class PopoverMenuDirective extends BasePopoverDirective implements AfterViewInit {\n  @Input() poppyMenu: PopoverMenuComponent;\n  @Input() type: PopoverMenuType = 'menu';\n  @Input() closeOnClickItem: boolean = true;\n\n  private contextMenuPosition: PopoverContextMenuPosition;\n\n  constructor(\n    protected readonly componentFactoryResolver: ComponentFactoryResolver,\n    protected readonly popoverService: PopoverService,\n    public readonly hostElement: ElementRef,\n    protected readonly ngZone: NgZone\n  ) {\n    super(componentFactoryResolver, popoverService, hostElement, ngZone);\n  }\n\n  ngAfterViewInit(): void {\n    if (this.poppyMenu) {\n      this.ngZone.runOutsideAngular(() => {\n        if (this.trigger !== 'manual' && this.type === 'menu') {\n          this.listenEventsForClickTrigger();\n        }\n\n        if (this.type === 'context') {\n          this.listenEventsForContextTrigger();\n        }\n      });\n    }\n  }\n\n  open(): void {\n    if (this.canAppend()) {\n      this.ngZone.run(() => {\n        this.append();\n      });\n    }\n  }\n\n  // NOTE: It should be removed after upgrade to ng 9, because QueryList should emit changes\n  // when elements is removed\n  updateContentPosition(): void {\n    if (this.popoverComponentRef) {\n      this.popoverComponentRef.instance.componentStyles.update();\n    }\n  }\n\n  protected getPopoverComponentInjector(): Injector {\n    const providerValues: PopoverConfig = {\n      bounds: this.getBounds(),\n      type: this.type,\n      triggerElement: this.hostElement,\n      triggerDirective: this,\n      closeOnClickOutside: this.closeOnClickOutside,\n      closeOnClickItem: this.closeOnClickItem,\n      menuRef: this.poppyMenu,\n      innerClass: this.innerClass,\n      position: this.position,\n    };\n\n    return Injector.create([\n      {\n        provide: POPOVER_CONFIG,\n        useValue: providerValues,\n      },\n    ]);\n  }\n\n  protected canAppend(): boolean {\n    return (\n      !this.popoverComponentRef ||\n      (this.popoverComponentRef && this.type === 'context') ||\n      (this.popoverComponentRef && this.closeOnTriggerAgain)\n    );\n  }\n\n  private listenEventsForClickTrigger(): void {\n    fromEvent(this.hostElement.nativeElement, 'click')\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(() => {\n        this.open();\n      });\n  }\n\n  private listenEventsForContextTrigger(): void {\n    fromEvent(this.hostElement.nativeElement, 'contextmenu')\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((event: MouseEvent) => {\n        event.preventDefault();\n        this.contextMenuPosition = {\n          top: event.clientY,\n          left: event.clientX,\n        };\n        this.open();\n      });\n  }\n\n  private append(): void {\n    const options = new PopoverAppendOptions({\n      type: this.type,\n    });\n\n    this.appendToLayer(options);\n  }\n\n  private getBounds(): PopoverBounds {\n    if (this.type === 'context') {\n      return { top: this.contextMenuPosition.top, left: this.contextMenuPosition.left };\n    } else {\n      return this.hostElement.nativeElement.getBoundingClientRect();\n    }\n  }\n}\n","import { Directive, TemplateRef } from '@angular/core';\n\n@Directive({\n  selector: '[poppy-option]',\n  exportAs: 'poppyOption',\n})\nexport class PopoverOptionDirective {\n  constructor(public template: TemplateRef<any>) {}\n}\n","import { Directive, ElementRef, HostListener } from '@angular/core';\nimport { PopoverService } from '../services/popover.service';\n@Directive({\n  selector: '[poppyRemoveOnClick]',\n})\nexport class PopoverRemoveOnClickDirective {\n  @HostListener('click', ['$event'])\n  onClick(): void {\n    this.remove();\n  }\n\n  constructor(private host: ElementRef, private popoverService: PopoverService) {}\n\n  remove(): void {\n    setTimeout(() => {\n      const parentElement = this.host.nativeElement.closest('poppy-content');\n      this.popoverService.removeByNativeElementRef(parentElement);\n    });\n  }\n}\n","import {\n  ComponentFactoryResolver,\n  Directive,\n  ElementRef,\n  Input,\n  NgZone,\n  OnInit,\n  TemplateRef,\n} from '@angular/core';\n\nimport { PopoverDirective } from './popover.directive';\nimport { PopoverService } from '../services/popover.service';\nimport { PopoverTrigger, PopoverType } from '../popover.interface';\n\n@Directive({\n  selector: '[poppyTooltip]',\n})\nexport class TooltipDirective extends PopoverDirective implements OnInit {\n  @Input() poppyTooltip: string | TemplateRef<any>;\n\n  trigger: PopoverTrigger = 'hover';\n  type: PopoverType = 'tooltip';\n\n  constructor(\n    protected readonly componentFactoryResolver: ComponentFactoryResolver,\n    protected readonly popoverService: PopoverService,\n    public readonly hostElement: ElementRef,\n    protected readonly ngZone: NgZone\n  ) {\n    super(componentFactoryResolver, popoverService, hostElement, ngZone);\n  }\n\n  ngOnInit(): void {\n    this.poppyPopover = this.poppyTooltip;\n  }\n}\n","  <div class=\"poppy-select\" [poppyMenu]=\"menu\" [closeOnClickItem]=\"!multiselect\">\n    <div class=\"poppy-select__content\">\n      <div *ngIf=\"multiselect\" class=\"poppy-select__multiselect\">\n        <div *ngFor=\"let chip of displayedChips\" class=\"poppy-select__chip\">\n          <ng-container *ngIf=\"chipTemplate\">\n            <ng-container\n              [ngTemplateOutlet]=\"chipTemplate.template\"\n              [ngTemplateOutletContext]=\"{ $implicit: chip }\"\n            ></ng-container>\n          </ng-container>\n          <div *ngIf=\"!chipTemplate\" class=\"poppy-chip\">\n            <div class=\"poppy-chip__content\">{{ getDisplayLabel(chip) }}</div>\n            <div class=\"poppy-chip__close\" (click)=\"closeChip(chip, $event)\">\n              &#10006;\n            </div>\n          </div>\n        </div>\n        <span class=\"poppy-select__placeholder\" *ngIf=\"!selectedOptions.length\">{{ placeholder }}</span>\n      </div>\n\n      <input\n        #input\n        [hidden]=\"multiselect\"\n        [placeholder]=\"placeholder\"\n        [value]=\"getDisplayValue()\"\n        [readOnly]=\"!searchable\"\n        type=\"text\"\n      />\n\n      <div *ngIf=\"clearable && !multiselect && !!getDisplayValue()\" class=\"poppy-select__clear\">\n        <button class=\"clear-btn\" (click)=\"clear($event)\">&times;</button>\n      </div>\n\n      <div *ngIf=\"!asyncLoading\" class=\"poppy-select__arrow\">\n<!--        <span *ngIf=\"isMenuOpen\" class=\"material-icons\">-->\n<!--          keyboard_arrow_up-->\n<!--        </span>-->\n<!--        <span *ngIf=\"!isMenuOpen\" class=\"material-icons\">-->\n<!--          keyboard_arrow_down-->\n<!--        </span>-->\n      </div>\n\n      <ng-container *ngIf=\"asyncLoading\">\n        <div class=\"poppy-select__loader\">\n          loader..\n        </div>\n      </ng-container>\n    </div>\n  </div>\n\n<poppy-menu #menu=\"poppyMenu\">\n  <li\n    *ngFor=\"let option of displayedOptions\"\n    poppy-menu-item\n    [hidden]=\"option.hidden\"\n    [selected]=\"option.selected\"\n    (clicked)=\"onClickItem(option)\"\n  >\n    <ng-container *ngIf=\"optionTemplate\">\n      <ng-container\n        [ngTemplateOutlet]=\"optionTemplate.template\"\n        [ngTemplateOutletContext]=\"{ $implicit: option }\"\n      ></ng-container>\n    </ng-container>\n    <ng-container *ngIf=\"!optionTemplate\">\n      {{ getDisplayLabel(option) }}\n    </ng-container>\n  </li>\n  <div class=\"poppy__no-items\" *ngIf=\"noItemsFound\">{{ notFoundText }}</div>\n</poppy-menu>\n","import {\n  Component,\n  OnInit,\n  ViewEncapsulation,\n  forwardRef,\n  Input,\n  ViewChild,\n  ElementRef,\n  ChangeDetectorRef,\n  ContentChild,\n  OnDestroy,\n  ChangeDetectionStrategy,\n  Output,\n  EventEmitter,\n  OnChanges,\n  SimpleChanges,\n  AfterViewInit,\n  Optional,\n  Host,\n  SkipSelf,\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor, ControlContainer, NG_VALIDATORS } from '@angular/forms';\nimport { debounceTime, map, take, takeUntil, tap } from 'rxjs/operators';\nimport { fromEvent, Observable, Subject } from 'rxjs';\n\nimport { SelectOption, DisplayedSelectOption } from './popover-select.interface';\nimport { PopoverChipDirective, PopoverMenuDirective, PopoverOptionDirective } from '../../directives';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'poppy-select',\n  templateUrl: './popover-select.component.html',\n  styleUrls: ['./popover-select.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => PopoverSelectComponent),\n      multi: true,\n    },\n    {\n      provide: NG_VALIDATORS,\n      useExisting: forwardRef(() => PopoverSelectComponent),\n      multi: true,\n    },\n  ],\n})\nexport class PopoverSelectComponent implements OnInit, OnChanges, OnDestroy, AfterViewInit, ControlValueAccessor {\n  @Input() options: SelectOption[] = [];\n  @Input() async: (searchPhrase?: string) => Observable<any>;\n  @Input() value: any;\n  @Input() bindLabel: string = 'label';\n  @Input() bindValue: string;\n  @Input() multiselect: boolean = false;\n  @Input() clearable: boolean = true;\n  @Input() searchable: boolean = true;\n  @Input() placeholder: string = 'Wybierz..';\n  @Input() notFoundText: string = 'Nie znaleziono wyników';\n\n  @Output() changed: EventEmitter<any> = new EventEmitter<any>();\n\n  @ViewChild('input') inputEl: ElementRef;\n  @ViewChild(PopoverMenuDirective) menuRef: PopoverMenuDirective;\n  @ContentChild(PopoverChipDirective) chipTemplate: PopoverChipDirective;\n  @ContentChild(PopoverOptionDirective) optionTemplate: PopoverOptionDirective;\n\n  selectedOptions: SelectOption[] = [];\n  displayedOptions: DisplayedSelectOption[] = [];\n  displayedChips: SelectOption[] = [];\n  asyncLoading: boolean = false;\n  isMenuOpen: boolean = false;\n  private destroy$ = new Subject();\n\n  constructor(\n    private cdr: ChangeDetectorRef,\n    @Optional()\n    @Host()\n    @SkipSelf()\n    private controlContainer: ControlContainer\n  ) {}\n\n  ngOnInit(): void {}\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.options && changes.options.previousValue !== changes.options.currentValue) {\n      this.onOptionsChange();\n    }\n\n    if (changes.value && changes.value.previousValue !== changes.value.currentValue) {\n      this.writeValue(this.value);\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.menuRef.afterClose.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.isMenuOpen = false;\n      if (!this.multiselect) {\n        this.onCloseMenu();\n      }\n      this.cdr.detectChanges();\n    });\n\n    this.menuRef.afterShow.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this.isMenuOpen = true;\n      this.cdr.detectChanges();\n    });\n\n    this.menuRef.afterClose.pipe(take(1)).subscribe(() => {\n      // TODO: mark as touched..\n      // if (this.control) {\n      //   this.control.markAsTouched();\n      //   this.control.updateValueAndValidity();\n      // }\n    });\n\n    if (this.async) {\n      this.loadAsyncOptions(null, { firstLoad: true });\n    }\n\n    if (this.searchable) {\n      this.onInputKeyUp();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  get noItemsFound(): boolean {\n    return !this.displayedOptions.length || !!this.displayedOptions.every((opt) => opt.hidden);\n  }\n\n  writeValue(value: any): void {\n    if (value !== undefined) {\n      if (this.multiselect) {\n        this.updateSelectedItemsForMultiSelection(value);\n      } else {\n        this.updateSelectedItemsForSingleSelection(value);\n      }\n    } else {\n      this.reset();\n    }\n\n    setTimeout(() => {\n      this.cdr.detectChanges();\n    });\n  }\n\n  registerOnChange(fn: any): void {\n    this.propagateChange = fn;\n  }\n\n  registerOnTouched(): void {}\n\n  setDisabledState(isDisabled: boolean): void {}\n\n  propagateChange = (value) => {};\n\n  getDisplayLabel(option: SelectOption): string {\n    return this.bindLabel ? option[this.bindLabel] : '';\n  }\n\n  onClickItem(clickedOption: SelectOption): void {\n    this.selectedOptions = [];\n    this.displayedOptions.forEach((option, index) => {\n      if (this.matchByValueOrReference(option, clickedOption)) {\n        this.displayedOptions[index].selected = this.multiselect ? !option.selected : true;\n        this.displayedOptions[index].hidden = this.multiselect ? !option.hidden : false;\n      } else {\n        if (!this.multiselect) {\n          this.displayedOptions[index].selected = false;\n        }\n      }\n      if (this.displayedOptions[index].selected) {\n        this.selectedOptions.push(this.options[index]);\n      }\n    });\n\n    if (this.multiselect) {\n      this.updateDisplayedChips();\n    }\n\n    if (!this.multiselect) {\n      this.inputEl.nativeElement.value = this.bindLabel ? this.selectedOptions[0][this.bindLabel] : '';\n    }\n\n    this.emitChange();\n    this.cdr.detectChanges();\n  }\n\n  onChangeInput(target: EventTarget): void {\n    const value = (target as HTMLInputElement).value;\n\n    if (this.bindLabel) {\n      if (this.async) {\n        this.loadAsyncOptions(value);\n      } else {\n        this.displayedOptions.forEach((option, index) => {\n          this.displayedOptions[index].hidden = !option[this.bindLabel].includes(value);\n        });\n        this.cdr.detectChanges();\n      }\n    }\n  }\n\n  clear(event: Event): void {\n    event.stopPropagation();\n    this.reset();\n    this.emitChange();\n  }\n\n  getDisplayValue(): string {\n    if (!!this.selectedOptions.length) {\n      if (this.multiselect) {\n        return '';\n      }\n      if (typeof this.selectedOptions[0] === 'object' && this.bindLabel) {\n        return this.selectedOptions[0][this.bindLabel];\n      }\n      return '';\n    }\n    return '';\n  }\n\n  closeChip(chip: SelectOption, event: Event): void {\n    this.selectedOptions = [];\n    this.displayedOptions.forEach((option, index) => {\n      if (this.matchByValueOrReference(option, chip)) {\n        this.displayedOptions[index].selected = false;\n        this.displayedOptions[index].hidden = false;\n      }\n      if (this.displayedOptions[index].selected) {\n        this.selectedOptions.push(this.options[index]);\n      }\n    });\n\n    this.updateDisplayedChips();\n    this.emitChange();\n\n    if (event) {\n      event.stopPropagation();\n    }\n\n    this.cdr.detectChanges();\n  }\n\n  private onOptionsChange(): void {\n    this.displayedOptions = [...this.options].map((option) => ({\n      ...option,\n      selected: false,\n      hidden: false,\n    }));\n  }\n\n  private onInputKeyUp(): void {\n    fromEvent(this.inputEl.nativeElement, 'keyup')\n      .pipe(\n        tap(() => {\n          if (this.async) {\n            this.asyncLoading = true;\n          }\n        }),\n        debounceTime(!!this.async ? 500 : 0),\n        map((event: Event) => event.target),\n        takeUntil(this.destroy$)\n      )\n      .subscribe((target) => {\n        this.onChangeInput(target);\n      });\n  }\n\n  private reset(): void {\n    this.displayedOptions.forEach((option, index) => {\n      this.displayedOptions[index].hidden = false;\n      this.displayedOptions[index].selected = false;\n    });\n    this.selectedOptions = [];\n    if (this.multiselect) {\n      this.displayedChips = [];\n    }\n  }\n\n  private emitChange(): void {\n    const value = this.getPropagateValue();\n    this.propagateChange(value);\n    this.changed.emit(value);\n  }\n\n  private getPropagateValue(): any | any[] {\n    if (!this.selectedOptions.length) {\n      return this.multiselect ? [] : null;\n    }\n    if (this.multiselect) {\n      return this.bindValue\n        ? this.selectedOptions.map((option) => option[this.bindValue])\n        : this.selectedOptions;\n    }\n    return this.bindValue ? this.selectedOptions[0][this.bindValue] : this.selectedOptions[0];\n  }\n\n  private onCloseMenu(): void {\n    this.inputEl.nativeElement.value = !!this.selectedOptions.length\n      ? this.selectedOptions[0][this.bindLabel]\n      : null;\n    this.displayedOptions.forEach((option, index) => {\n      this.displayedOptions[index].hidden = false;\n    });\n  }\n\n  private loadAsyncOptions(searchPhrase?: string, options: { firstLoad?: boolean } = {}): void {\n    this.asyncLoading = !options.firstLoad;\n    this.async(searchPhrase).subscribe((results) => {\n      this.options = results;\n      this.onOptionsChange();\n      this.asyncLoading = false;\n      this.cdr.detectChanges();\n    });\n  }\n\n  private updateSelectedItemsForMultiSelection(value: SelectOption[]): void {\n    if (!Array.isArray(value)) {\n      if (value !== null) {\n        throw Error('Initial value for multiselect must be an array!');\n      } else {\n        value = [];\n      }\n    }\n\n    this.selectedOptions = [];\n    this.displayedChips = [];\n    this.options.forEach((option, index) => {\n      const matchOption = !!value.find((v) => this.matchByValueOrReference(option, v));\n\n      if (matchOption) {\n        this.selectedOptions.push(option);\n        this.displayedOptions[index].selected = true;\n        this.displayedOptions[index].hidden = true;\n      } else {\n        this.displayedOptions[index].selected = false;\n        this.displayedOptions[index].hidden = false;\n      }\n    });\n\n    this.updateDisplayedChips();\n  }\n\n  private updateSelectedItemsForSingleSelection(value: any): void {\n    this.options.forEach((option, index) => {\n      if (this.matchByValueOrReference(option, value)) {\n        this.selectedOptions = [option];\n        this.displayedOptions[index].selected = true;\n      } else {\n        this.displayedOptions[index].selected = false;\n      }\n    });\n\n    if (!value) {\n      this.selectedOptions = [];\n    }\n  }\n\n  private updateDisplayedChips(): void {\n    this.displayedOptions\n      .filter((option) => option.selected)\n      .forEach((option) => {\n        const chipIndex = this.displayedChips.findIndex((chip) => this.matchByValueOrReference(chip, option));\n        if (chipIndex === -1) {\n          this.displayedChips.push(option);\n        }\n      });\n    this.displayedChips.forEach((chip, index) => {\n      const option = this.displayedOptions\n        .filter((opt) => opt.selected)\n        .find((opt) => this.matchByValueOrReference(chip, opt));\n      if (!option) {\n        this.displayedChips.splice(index, 1);\n      }\n    });\n\n    if (this.menuRef) {\n      setTimeout(() => {\n        this.menuRef.updateContentPosition();\n      });\n    }\n  }\n\n  private matchByValueOrReference(item: SelectOption, comparedTo: SelectOption): boolean {\n    if (this.bindValue) {\n      if (comparedTo && comparedTo[this.bindValue] !== undefined) {\n        // tslint:disable-next-line:triple-equals\n        return item[this.bindValue] == comparedTo[this.bindValue];\n      }\n      // tslint:disable-next-line:triple-equals\n      return item[this.bindValue] == comparedTo;\n    }\n\n    return item === comparedTo;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { PopoverContentComponent } from './components/popover-content/popover-content.component';\nimport { LayerModule } from '../layer/layer.module';\nimport { PopoverMenuComponent } from './components/popover-menu/popover-menu.component';\nimport { PopoverSelectComponent } from './components/popover-select/popover-select.component';\nimport {\n  TooltipDirective,\n  PopoverDirective,\n  PopoverChipDirective,\n  PopoverChipRemoveDirective,\n  PopoverMenuDirective,\n  PopoverMenuItemDirective,\n  PopoverOptionDirective,\n  PopoverRemoveOnClickDirective,\n} from './directives';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\n\n@NgModule({\n  declarations: [\n    PopoverDirective,\n    PopoverMenuDirective,\n    PopoverContentComponent,\n    PopoverMenuItemDirective,\n    PopoverMenuComponent,\n    PopoverSelectComponent,\n    PopoverChipDirective,\n    PopoverChipRemoveDirective,\n    PopoverRemoveOnClickDirective,\n    PopoverOptionDirective,\n    TooltipDirective,\n  ],\n  imports: [CommonModule, BrowserAnimationsModule, LayerModule],\n  exports: [\n    PopoverDirective,\n    PopoverMenuDirective,\n    PopoverMenuItemDirective,\n    PopoverMenuComponent,\n    PopoverSelectComponent,\n    PopoverChipDirective,\n    PopoverChipRemoveDirective,\n    PopoverRemoveOnClickDirective,\n    PopoverOptionDirective,\n    TooltipDirective,\n  ],\n})\nexport class PopoverModule {}\n","/*\n * Public API Surface of lib\n */\n\nexport * from './lib/popover/popover.module';\nexport * from './lib/popover/directives';\nexport * from './lib/popover/components/popover-select/popover-select.component';\nexport * from './lib/popover/components/popover-menu/popover-menu.component';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["InjectionToken","trigger","state","style","transition","animate","EventEmitter","fromEvent","tap","Directive","Input","Output","HostBinding","i0.ɵɵprojection","TemplateRef","i0.ɵɵtemplate","Component","ChangeDetectionStrategy","ContentChildren","ViewChild","ViewContainerRef","i0.ɵɵelementContainer","ViewEncapsulation","Inject","Injector","Injectable","merge","i0.ɵɵelementContainerStart","i0.ɵɵelementContainerEnd","i0.ɵɵadvance","i0.ɵɵproperty","i0.ɵɵtext","i0.ɵɵtextInterpolate1","Subject","takeUntil","debounceTime","skipUntil","i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵelementEnd","CommonModule","NgModule","switchMap","timer","take","HostListener","i0.ɵɵtextInterpolate","i0.ɵɵelement","map","NG_VALUE_ACCESSOR","forwardRef","NG_VALIDATORS","Optional","Host","SkipSelf","ContentChild","BrowserAnimationsModule"],"mappings":"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"}